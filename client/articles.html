<!--suppress ALL -->

<template name='articles'>
    <div class='row'>
        <div class='col-md-offset-1 col-md-10'>
            {{> headerText}}
            {{#if initialLoad}}
                    {{> spinner}}
            {{else}}
                {{#each articles}}
                    {{> articleView}}
                {{else}}
                    <strong>{{getArabicMsg 'noArticlesFound'}}</strong>
                {{/each}}
                {{#if hasMore}}
                    <div id="showMoreResults" style="margin-left: 25px;">
                        <center><span class="loading">{{getArabicMsg 'loading'}}</span></center>
                    </div>
                {{/if}}
            {{/if}}

        </div>
    </div>
</template>

<template name='articleView'>
    <div class='panel panel-info'>
        <div class='clickableDiv panel-heading'>
            <div class='row'>
                <a class="article-link" href="{{pathFor route='global' id=_id}}">
                    <h4 class=' col-md-9'>{{{title}}} </h4>
                    <h5 class='col-md-3 text-left'>
                        {{{newLabel}}}
                    </h5>
                </a>
            </div>
        </div>
        <div class='panel-body'>
            <div class='row'>
                <div class='col-md-4'>
                    <span class='glyphicon glyphicon-user' aria-hidden='true'></span>
                    <a href="{{pathFor 'profile' id=this.user}}">{{username}}</a>
                </div>
                <div class='col-md-4'>
                    <span class='glyphicon glyphicon-time' aria-hidden='true'></span> {{> Time data=generalDate}}
                </div>
                <div class='col-xs-12 col-md-3'>
                    <span><i class='fa fa-eye' title='{{getArabicMsg "readLabel"}}'></i> {{read}}</span>
                    &nbsp; &nbsp;
                        <span><i title='{{ getArabicMsg "contributingLabel"}}' class='fa fa-comments'></i>
                          <span class='commentsCounter{{_id}}'> {{commentsCounter}}</span></span>

                </div>
            </div>
            <div class='text-left'>
                {{#unless isDeleted}}
                    {{#if owner}}
                        <button class='remove btn-xs btn btn-danger' title='{{getArabicMsg "deleteButtonTitle"}}'>
                            <i class='fa fa-trash'></i>
                        </button>
                        <button class='edit btn-xs btn btn-warning' title='{{getArabicMsg "editButtonTitle"}}'>
                            <i class='fa fa-pencil'></i>
                        </button>
                    {{/if}}
                    <button class='favorite btn-xs btn btn-success' title='{{getArabicMsg "addToFavorites"}}'>
                        <i class='fa {{#if favorite}}fa-heart-o{{else}}fa-heart{{/if}}'></i>
                    </button>{{/unless}}
            </div>
        </div>
    </div>
</template>
<template name='search'>
    <div class='container'>
        <div class='row'>
            <div class='col-md-offset-1 col-md-10'>
                <div class='row'> {{> headerText}} </div>
                <div class='row'>{{> searchBox }} </div>
                {{> searchResult}}
            </div>
            <!--col-md-10-->
        </div>
        <!--row-->
    </div>
</template>
<template name='searchBox'>
    <div class='span1 offset2'>
        <input type='text' id='search-box' class='form-control input-group '>
    </div>
</template>
<template name='searchResult'>
    <div class='row' id='search-result'>
        <div id='search-meta'>
            {{#if loading}}
                <h1> يبحث ... </h1>
            {{/if}}
        </div>

        {{#each getArticles}}
            {{> articleView}}
        {{/each}}
    </div>
</template>


<template name='Time'>
    <span class='dateSwitch'
          title='{{dateFormated data}}'>{{momentIt data}}</span>
</template>
